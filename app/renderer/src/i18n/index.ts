import i18n from "i18next";
import { initReactI18next } from "react-i18next";
import { getFromStorage } from "utils";
import {
  detectSystemLanguage,
  fallbackLanguage,
  normalizeLanguageCode,
  supportedLanguages,
} from "./languages";

const resources = {
  en: {
    translation: {
      nav: {
        taskList: "Task List",
        config: "Config",
        timer: "Timer",
        settings: "Settings",
      },
      config: {
        title: "Rules",
        restoreDefault: "Restore Default",
        restored: "Restored Successfully",
        stayFocused: "Stay focused",
        shortBreak: "Short break",
        longBreak: "Long break",
        sessionRounds: "Session rounds",
        specialBreaks: "Special Breaks",
      },
      units: {
        min: "min",
        mins: "mins",
        round: "round",
        rounds: "rounds",
      },
      timer: {
        stayFocused: "Stay Focused",
        shortBreak: "Short Break",
        longBreak: "Long Break",
        specialBreak: "Special Break",
        sessions: "Sessions",
      },
      tasks: {
        addAnotherList: "Add another list",
        addAnotherCard: "Add another card",
        addList: "Add List",
        addCard: "Add Card",
        actions: "Actions",
        priorityList: "Priority List",
        delete: "Delete",
        done: "Done",
        skip: "Skip",
        description: "Description",
        preview: "preview",
        save: "Save",
        cancel: "Cancel",
        formattingHelp: "Formatting Help",
        deleteCard: "Delete Card",
        detailedDescriptionPlaceholder:
          "Add a more detailed description...",
        enterListTitlePlaceholder: "Enter list title",
        enterCardTitlePlaceholder: "Enter a title for this card...",
      },
      shortcuts: {
        localHeading: "Local Shortcut Keys",
        globalHeading: "Global Shortcut Keys",
        escapeFormPopup: "Escape Form / Popup",
        toggleTheme: "Toggle Theme",
        cutText: "Cut Text",
        copyText: "Copy Text",
        pasteText: "Paste Text",
        selectAllText: "Select All Text",
        undoAction: "Undo Action",
        redoAction: "Redo Action",
        hideApp: "Hide the App",
        showApp: "Show the App",
        pressEsc: "Press Esc",
      },
      help: {
        heading: "Need Help ?",
        officialWebsite: "Official website",
        openIssue: "Open an issue",
        releaseNotes: "Release notes",
      },
      sticky: {
        starGithub: "Star it on GitHub",
        joinDiscord: "Join us on Discord!",
      },
      settings: {
        title: "Settings",
        restoreDefault: "Restore Default",
        restored: "Restored Successfully",
        appFeatures: "App Features",
        language: "Language",
        languageAuto: "Auto",
        languageEnglish: "English",
        languageSpanish: "Spanish",
        languageChinese: "Chinese",
        alertHeading: "Hi ðŸ‘‹,",
        alertBody:
          "If you liked this app, please consider starring this project on GitHub to show your â¤ï¸ and support.",
        alwaysOnTop: "Always On Top",
        compactMode: "Compact Mode",
        fullscreenBreak: "Fullscreen Break",
        strictMode: "Strict Mode",
        darkTheme: "Dark Theme",
        followSystemTheme: "Follow System Theme",
        nativeTitlebar: "Native Titlebar",
        progressAnimation: "Progress Animation",
        autoStartWorkTime: "Auto-start Work Time",
        minimizeToTray: "Minimize To Tray",
        closeToTray: "Close To Tray",
        voiceAssistance: "Voice Assistance",
        openAtLogin: "Open At Login",
        enableRichPresence: "Enable Rich Presence",
        notificationNone: "none",
        notificationNormal: "normal",
        notificationExtra: "extra",
      },
    },
  },
  es: {
    translation: {
      nav: {
        taskList: "Lista de tareas",
        config: "Configuracion",
        timer: "Temporizador",
        settings: "Ajustes",
      },
      config: {
        title: "Reglas",
        restoreDefault: "Restaurar valores",
        restored: "Restaurado correctamente",
        stayFocused: "Mantente enfocado",
        shortBreak: "Pausa corta",
        longBreak: "Pausa larga",
        sessionRounds: "Rondas de sesion",
        specialBreaks: "Pausas especiales",
      },
      units: {
        min: "min",
        mins: "mins",
        round: "ronda",
        rounds: "rondas",
      },
      timer: {
        stayFocused: "Mantente enfocado",
        shortBreak: "Pausa corta",
        longBreak: "Pausa larga",
        specialBreak: "Pausa especial",
        sessions: "Sesiones",
      },
      tasks: {
        addAnotherList: "Agregar otra lista",
        addAnotherCard: "Agregar otra tarjeta",
        addList: "Agregar lista",
        addCard: "Agregar tarjeta",
        actions: "Acciones",
        priorityList: "Lista prioritaria",
        delete: "Eliminar",
        done: "Hecho",
        skip: "Omitir",
        description: "Descripcion",
        preview: "vista previa",
        save: "Guardar",
        cancel: "Cancelar",
        formattingHelp: "Ayuda de formato",
        deleteCard: "Eliminar tarjeta",
        detailedDescriptionPlaceholder:
          "Agrega una descripcion mas detallada...",
        enterListTitlePlaceholder: "Escribe el titulo de la lista",
        enterCardTitlePlaceholder:
          "Escribe un titulo para esta tarjeta...",
      },
      shortcuts: {
        localHeading: "Atajos locales",
        globalHeading: "Atajos globales",
        escapeFormPopup: "Cerrar formulario o ventana",
        toggleTheme: "Cambiar tema",
        cutText: "Cortar texto",
        copyText: "Copiar texto",
        pasteText: "Pegar texto",
        selectAllText: "Seleccionar todo el texto",
        undoAction: "Deshacer accion",
        redoAction: "Rehacer accion",
        hideApp: "Ocultar la app",
        showApp: "Mostrar la app",
        pressEsc: "Presiona Esc",
      },
      help: {
        heading: "Necesitas ayuda ?",
        officialWebsite: "Sitio oficial",
        openIssue: "Abrir un issue",
        releaseNotes: "Notas de version",
      },
      sticky: {
        starGithub: "Marca estrella en GitHub",
        joinDiscord: "Unete a Discord!",
      },
      settings: {
        title: "Configuracion",
        restoreDefault: "Restaurar valores",
        restored: "Restaurado correctamente",
        appFeatures: "Funciones de la app",
        language: "Idioma",
        languageAuto: "Auto",
        languageEnglish: "Ingles",
        languageSpanish: "Espanol",
        languageChinese: "Chino",
        alertHeading: "Hola,",
        alertBody:
          "Si te gusto esta app, considera marcar este proyecto con una estrella en GitHub para mostrar tu apoyo.",
        alwaysOnTop: "Siempre arriba",
        compactMode: "Modo compacto",
        fullscreenBreak: "Pausa en pantalla completa",
        strictMode: "Modo estricto",
        darkTheme: "Tema oscuro",
        followSystemTheme: "Seguir tema del sistema",
        nativeTitlebar: "Barra de titulo nativa",
        progressAnimation: "Animacion de progreso",
        autoStartWorkTime: "Auto iniciar tiempo de trabajo",
        minimizeToTray: "Minimizar a la bandeja",
        closeToTray: "Cerrar a la bandeja",
        voiceAssistance: "Asistencia de voz",
        openAtLogin: "Abrir al iniciar",
        enableRichPresence: "Activar Rich Presence",
        notificationNone: "ninguna",
        notificationNormal: "normal",
        notificationExtra: "extra",
      },
    },
  },
  zh: {
    translation: {
      nav: {
        taskList: "ä»»åŠ¡åˆ—è¡¨",
        config: "è®¾ç½®",
        timer: "è®¡æ—¶å™¨",
        settings: "åå¥½è®¾ç½®",
      },
      config: {
        title: "è§„åˆ™",
        restoreDefault: "æ¢å¤é»˜è®¤",
        restored: "å·²æˆåŠŸæ¢å¤",
        stayFocused: "ä¸“æ³¨æ—¶é—´",
        shortBreak: "çŸ­ä¼‘æ¯",
        longBreak: "é•¿ä¼‘æ¯",
        sessionRounds: "å¾ªçŽ¯æ¬¡æ•°",
        specialBreaks: "ç‰¹æ®Šä¼‘æ¯",
      },
      units: {
        min: "åˆ†é’Ÿ",
        mins: "åˆ†é’Ÿ",
        round: "è½®",
        rounds: "è½®",
      },
      timer: {
        stayFocused: "ä¸“æ³¨",
        shortBreak: "çŸ­ä¼‘æ¯",
        longBreak: "é•¿ä¼‘æ¯",
        specialBreak: "ç‰¹æ®Šä¼‘æ¯",
        sessions: "è½®æ¬¡",
      },
      tasks: {
        addAnotherList: "æ·»åŠ å¦ä¸€ä¸ªåˆ—è¡¨",
        addAnotherCard: "æ·»åŠ å¦ä¸€å¼ å¡ç‰‡",
        addList: "æ·»åŠ åˆ—è¡¨",
        addCard: "æ·»åŠ å¡ç‰‡",
        actions: "æ“ä½œ",
        priorityList: "ä¼˜å…ˆåˆ—è¡¨",
        delete: "åˆ é™¤",
        done: "å®Œæˆ",
        skip: "è·³è¿‡",
        description: "æè¿°",
        preview: "é¢„è§ˆ",
        save: "ä¿å­˜",
        cancel: "å–æ¶ˆ",
        formattingHelp: "æ ¼å¼å¸®åŠ©",
        deleteCard: "åˆ é™¤å¡ç‰‡",
        detailedDescriptionPlaceholder: "æ·»åŠ æ›´è¯¦ç»†çš„æè¿°...",
        enterListTitlePlaceholder: "è¾“å…¥åˆ—è¡¨æ ‡é¢˜",
        enterCardTitlePlaceholder: "è¾“å…¥æ­¤å¡ç‰‡çš„æ ‡é¢˜...",
      },
      shortcuts: {
        localHeading: "æœ¬åœ°å¿«æ·é”®",
        globalHeading: "å…¨å±€å¿«æ·é”®",
        escapeFormPopup: "å…³é—­è¡¨å•æˆ–å¼¹çª—",
        toggleTheme: "åˆ‡æ¢ä¸»é¢˜",
        cutText: "å‰ªåˆ‡æ–‡æœ¬",
        copyText: "å¤åˆ¶æ–‡æœ¬",
        pasteText: "ç²˜è´´æ–‡æœ¬",
        selectAllText: "å…¨é€‰æ–‡æœ¬",
        undoAction: "æ’¤é”€æ“ä½œ",
        redoAction: "é‡åšæ“ä½œ",
        hideApp: "éšè—åº”ç”¨",
        showApp: "æ˜¾ç¤ºåº”ç”¨",
        pressEsc: "æŒ‰ä¸‹ Esc",
      },
      help: {
        heading: "éœ€è¦å¸®åŠ©ï¼Ÿ",
        officialWebsite: "å®˜æ–¹ç½‘ç«™",
        openIssue: "æäº¤é—®é¢˜",
        releaseNotes: "æ›´æ–°æ—¥å¿—",
      },
      sticky: {
        starGithub: "åœ¨ GitHub ä¸Šç‚¹æ˜Ÿ",
        joinDiscord: "åŠ å…¥ Discordï¼",
      },
      settings: {
        title: "è®¾ç½®",
        restoreDefault: "æ¢å¤é»˜è®¤",
        restored: "å·²æˆåŠŸæ¢å¤",
        appFeatures: "åº”ç”¨åŠŸèƒ½",
        language: "è¯­è¨€",
        languageAuto: "è‡ªåŠ¨",
        languageEnglish: "è‹±è¯­",
        languageSpanish: "è¥¿ç­ç‰™è¯­",
        languageChinese: "ä¸­æ–‡",
        alertHeading: "ä½ å¥½ ðŸ‘‹,",
        alertBody:
          "å¦‚æžœä½ å–œæ¬¢è¿™ä¸ªåº”ç”¨ï¼Œè¯·è€ƒè™‘åœ¨ GitHub ä¸Šç‚¹æ˜Ÿä»¥ç¤ºæ”¯æŒã€‚",
        alwaysOnTop: "å§‹ç»ˆç½®é¡¶",
        compactMode: "ç´§å‡‘æ¨¡å¼",
        fullscreenBreak: "å…¨å±ä¼‘æ¯",
        strictMode: "ä¸¥æ ¼æ¨¡å¼",
        darkTheme: "æ·±è‰²ä¸»é¢˜",
        followSystemTheme: "è·Ÿéšç³»ç»Ÿä¸»é¢˜",
        nativeTitlebar: "åŽŸç”Ÿæ ‡é¢˜æ ",
        progressAnimation: "è¿›åº¦åŠ¨ç”»",
        autoStartWorkTime: "è‡ªåŠ¨å¼€å§‹å·¥ä½œæ—¶é—´",
        minimizeToTray: "æœ€å°åŒ–åˆ°æ‰˜ç›˜",
        closeToTray: "å…³é—­åˆ°æ‰˜ç›˜",
        voiceAssistance: "è¯­éŸ³è¾…åŠ©",
        openAtLogin: "å¼€æœºè‡ªå¯",
        enableRichPresence: "å¯ç”¨ Rich Presence",
        notificationNone: "æ— ",
        notificationNormal: "æ™®é€š",
        notificationExtra: "å¢žå¼º",
      },
    },
  },
  ja: {
    translation: {
      nav: {
        taskList: "ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ",
        config: "è¨­å®š",
        timer: "ã‚¿ã‚¤ãƒžãƒ¼",
        settings: "è¨­å®š",
      },
      config: {
        title: "ãƒ«ãƒ¼ãƒ«",
        restoreDefault: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã™",
        restored: "å¾©å…ƒã—ã¾ã—ãŸ",
        stayFocused: "é›†ä¸­æ™‚é–“",
        shortBreak: "çŸ­ã„ä¼‘æ†©",
        longBreak: "é•·ã„ä¼‘æ†©",
        sessionRounds: "ã‚»ãƒƒã‚·ãƒ§ãƒ³å›žæ•°",
        specialBreaks: "ç‰¹åˆ¥ä¼‘æ†©",
      },
      units: {
        min: "åˆ†",
        mins: "åˆ†",
        round: "å›ž",
        rounds: "å›ž",
      },
      timer: {
        stayFocused: "é›†ä¸­",
        shortBreak: "çŸ­ã„ä¼‘æ†©",
        longBreak: "é•·ã„ä¼‘æ†©",
        specialBreak: "ç‰¹åˆ¥ä¼‘æ†©",
        sessions: "ã‚»ãƒƒã‚·ãƒ§ãƒ³",
      },
      tasks: {
        addAnotherList: "åˆ¥ã®ãƒªã‚¹ãƒˆã‚’è¿½åŠ ",
        addAnotherCard: "åˆ¥ã®ã‚«ãƒ¼ãƒ‰ã‚’è¿½åŠ ",
        addList: "ãƒªã‚¹ãƒˆã‚’è¿½åŠ ",
        addCard: "ã‚«ãƒ¼ãƒ‰ã‚’è¿½åŠ ",
        actions: "æ“ä½œ",
        priorityList: "å„ªå…ˆãƒªã‚¹ãƒˆ",
        delete: "å‰Šé™¤",
        done: "å®Œäº†",
        skip: "ã‚¹ã‚­ãƒƒãƒ—",
        description: "èª¬æ˜Ž",
        preview: "ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
        save: "ä¿å­˜",
        cancel: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«",
        formattingHelp: "æ›¸å¼ãƒ˜ãƒ«ãƒ—",
        deleteCard: "ã‚«ãƒ¼ãƒ‰ã‚’å‰Šé™¤",
        detailedDescriptionPlaceholder: "ã‚ˆã‚Šè©³ç´°ãªèª¬æ˜Žã‚’è¿½åŠ ...",
        enterListTitlePlaceholder: "ãƒªã‚¹ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›",
        enterCardTitlePlaceholder: "ã“ã®ã‚«ãƒ¼ãƒ‰ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›...",
      },
      shortcuts: {
        localHeading: "ãƒ­ãƒ¼ã‚«ãƒ«ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ",
        globalHeading: "ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ",
        escapeFormPopup: "ãƒ•ã‚©ãƒ¼ãƒ /ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‰ã˜ã‚‹",
        toggleTheme: "ãƒ†ãƒ¼ãƒžåˆ‡ã‚Šæ›¿ãˆ",
        cutText: "ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ‡ã‚Šå–ã‚Š",
        copyText: "ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼",
        pasteText: "ãƒ†ã‚­ã‚¹ãƒˆã‚’è²¼ã‚Šä»˜ã‘",
        selectAllText: "ã™ã¹ã¦é¸æŠž",
        undoAction: "å…ƒã«æˆ»ã™",
        redoAction: "ã‚„ã‚Šç›´ã—",
        hideApp: "ã‚¢ãƒ—ãƒªã‚’éš ã™",
        showApp: "ã‚¢ãƒ—ãƒªã‚’è¡¨ç¤º",
        pressEsc: "Esc ã‚’æŠ¼ã™",
      },
      help: {
        heading: "ãƒ˜ãƒ«ãƒ—ãŒå¿…è¦ï¼Ÿ",
        officialWebsite: "å…¬å¼ã‚µã‚¤ãƒˆ",
        openIssue: "Issue ã‚’é–‹ã",
        releaseNotes: "ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆ",
      },
      sticky: {
        starGithub: "GitHub ã§ã‚¹ã‚¿ãƒ¼",
        joinDiscord: "Discord ã«å‚åŠ ï¼",
      },
      settings: {
        title: "è¨­å®š",
        restoreDefault: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æˆ»ã™",
        restored: "å¾©å…ƒã—ã¾ã—ãŸ",
        appFeatures: "ã‚¢ãƒ—ãƒªæ©Ÿèƒ½",
        language: "è¨€èªž",
        languageAuto: "è‡ªå‹•",
        languageEnglish: "è‹±èªž",
        languageSpanish: "ã‚¹ãƒšã‚¤ãƒ³èªž",
        languageChinese: "ä¸­å›½èªž",
        alertHeading: "ã“ã‚“ã«ã¡ã¯ ðŸ‘‹,",
        alertBody:
          "ã“ã®ã‚¢ãƒ—ãƒªãŒæ°—ã«å…¥ã£ãŸã‚‰ã€GitHub ã§ã‚¹ã‚¿ãƒ¼ã‚’ä»˜ã‘ã¦å¿œæ´ã—ã¦ãã ã•ã„ã€‚",
        alwaysOnTop: "å¸¸ã«æœ€å‰é¢",
        compactMode: "ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰",
        fullscreenBreak: "ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ä¼‘æ†©",
        strictMode: "åŽ³æ ¼ãƒ¢ãƒ¼ãƒ‰",
        darkTheme: "ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒž",
        followSystemTheme: "ã‚·ã‚¹ãƒ†ãƒ ãƒ†ãƒ¼ãƒžã«å¾“ã†",
        nativeTitlebar: "ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼",
        progressAnimation: "é€²æ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³",
        autoStartWorkTime: "ä½œæ¥­æ™‚é–“ã‚’è‡ªå‹•é–‹å§‹",
        minimizeToTray: "ãƒˆãƒ¬ã‚¤ã«æœ€å°åŒ–",
        closeToTray: "ãƒˆãƒ¬ã‚¤ã«é–‰ã˜ã‚‹",
        voiceAssistance: "éŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ",
        openAtLogin: "ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«èµ·å‹•",
        enableRichPresence: "Rich Presence ã‚’æœ‰åŠ¹åŒ–",
        notificationNone: "ãªã—",
        notificationNormal: "é€šå¸¸",
        notificationExtra: "æ‹¡å¼µ",
      },
    },
  },
};

const storedState = getFromStorage("state");
const storedLanguage = storedState?.settings?.language;
const initialLanguage = storedLanguage
  ? storedLanguage === "auto"
    ? detectSystemLanguage()
    : normalizeLanguageCode(storedLanguage)
  : detectSystemLanguage();

i18n.use(initReactI18next).init({
  resources,
  lng: initialLanguage,
  fallbackLng: fallbackLanguage,
  supportedLngs: supportedLanguages.map((lang) => lang.code),
  interpolation: {
    escapeValue: false,
  },
});

export default i18n;
